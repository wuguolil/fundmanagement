import java.io.FileOutputStream;
import java.io.InputStream;
import java.net.HttpURLConnection;
import java.net.URL;

public class FileDownloader {
  
    public static void downloadFile(String fileUrl, String saveFilePath) throws Exception {
        URL url = new URL(fileUrl);
        HttpURLConnection connection = (HttpURLConnection) url.openConnection();
        connection.setRequestMethod("GET");
        connection.setConnectTimeout(5000);
        
        int responseCode = connection.getResponseCode();
        if (responseCode == HttpURLConnection.HTTP_OK) {
            InputStream inputStream = connection.getInputStream();
            byte[] buffer = new byte[1024];
            int bytesRead;
            FileOutputStream outputStream = new FileOutputStream(saveFilePath);
            
            while ((bytesRead = inputStream.read(buffer)) != -1) {
                outputStream.write(buffer, 0, bytesRead);
            }
            
            outputStream.close();
            inputStream.close();
        } else {
            throw new Exception("HTTP request failed with error code: " + responseCode);
        }
    }

    public static void main(String[] args) throws Exception {
        String fileUrl = "http://example.com/file-to-download.txt";
        String saveFilePath = "C:/Downloads/file-to-download.txt";
        downloadFile(fileUrl, saveFilePath);
    }
}
